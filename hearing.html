<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Allnspyre | Hearing</title>
  <style>
    body { font-family: Arial; padding: 40px; background: #f7f5f1; }
    button { padding: 10px 14px; margin: 6px; }
  </style>
</head>
<body>

<h2>Hearing Test</h2>
<p>Plan: <span id="plan"></span></p>

<h3>Step 1: Choose Prefecture</h3>
<div id="pref"></div>

<h3>Step 2: Choose Area</h3>
<div id="area"></div>

<script>
const params = new URLSearchParams(window.location.search);
const plan = params.get("plan") || "explorer";
document.getElementById("plan").innerText = plan;

const prefectures = ["Tokyo","Osaka"];
const areas = {
  Tokyo:["Tokyo Urban","Tokyo Suburban"],
  Osaka:["Osaka Urban","Osaka Suburban"]
};

let selectedPref = null;
let selectedArea = null;

const prefDiv = document.getElementById("pref");
const areaDiv = document.getElementById("area");

prefectures.forEach(p=>{
  const b = document.createElement("button");
  b.innerText = p;
  b.onclick = ()=>{
    selectedPref = p;
    areaDiv.innerHTML = "";
    areas[p].forEach(a=>{
      const ab = document.createElement("button");
      ab.innerText = a;
      ab.onclick = ()=>{
        selectedArea = a;
        alert("Selected: " + selectedArea);
      };
      areaDiv.appendChild(ab);
    });
  };
  prefDiv.appendChild(b);
});
</script>

</body>
</html>
